[
  {
    "objectID": "analysis.html",
    "href": "analysis.html",
    "title": "Travel time estimates",
    "section": "",
    "text": "travel_time &lt;- readRDS(\"data/data_clean.RDS\")\n\ndecode_polyline &lt;- function(polyline_string) {\n\n  # Decode the polyline to get lat/lng coordinates\n  coords &lt;- googlePolylines::decode(polyline_string)\n  coords &lt;- coords[[1]]\n\n    # Create an sf LINESTRING object\nlinestring &lt;- st_linestring(as.matrix(coords[, c(\"lon\", \"lat\")]))\n\nreturn(list(linestring))\n}"
  },
  {
    "objectID": "analysis.html#travel-time-estimates",
    "href": "analysis.html#travel-time-estimates",
    "title": "Travel time estimates",
    "section": "Travel time estimates",
    "text": "Travel time estimates\nTravel time estimates in a sortable and filterable table:\n\njnd |&gt; \n  mutate(duration_minutes = round(duration_minutes, 1),\n         static_duration = round(static_duration/60, 1)) |&gt; \n  select(request_time_local, direction, distance_miles, duration_minutes, static_duration, day_of_week, weekend) |&gt; \n  reactable(filterable = TRUE,\n            columns = list(\n    request_time_local = colDef(name = \"Date/time\", format = colFormat(datetime = TRUE)),\n    distance_miles = colDef(name = \"Distance (miles)\", format = colFormat(digits = 1)),\n    duration_minutes = colDef(name = \"Travel time (minutes)\"),\n    static_duration = colDef(name = \"Typical travel time (minutes)\"),\n    day_of_week = colDef(name = \"Day of week\"),\n    weekend = colDef(name = \"Weekend\"),\n    direction = colDef(name = \"Direction\")))\n\n\n\n\n\n\nSummary statistics\n\npercentiles &lt;- jnd |&gt; \n  group_by(direction) |&gt; \n  summarise(\n          mean = mean(duration_minutes),\n          median = median(duration_minutes),\n          min = min(duration_minutes),\n          max = max(duration_minutes),\n          duration_5_pct = quantile(duration_minutes, c(0.05)),\n          duration_95_pct = quantile(duration_minutes, c(0.95))) |&gt; \n  mutate(duration_90 = paste0(round(duration_5_pct, 1), \"-\", round(duration_95_pct,1 )))\n\npercentiles |&gt; \n  select(-duration_5_pct, -duration_95_pct) |&gt; \n  gt() |&gt; \n  fmt_number(columns = where(is.numeric), decimals = 1) |&gt; \n  tab_header(title = \"Estimated travel times on JND (minutes)\") |&gt; \n  cols_label(direction = \"Direction\",\n             mean = \"Mean\",\n             median = \"Median\",\n             min = \"Minimum\",\n             max = \"Maximum\",\n             duration_90 = \"90% of trips\"\n             )\n\n\n\n\n\n\n\nEstimated travel times on JND (minutes)\n\n\nDirection\nMean\nMedian\nMinimum\nMaximum\n90% of trips\n\n\n\n\nNB\n6.7\n5.3\n4.0\n18.4\n4.2-12.7\n\n\nSB\n5.8\n5.4\n4.4\n12.3\n4.6-8.2\n\n\n\n\n\n\n\n\n\nTravel time plots\n\ntravel_time |&gt; \n  filter(route_id == \"John Nolen Dr (Rimrock &lt;-&gt; Hairball)\") |&gt; \n  ggplot(aes(request_time_UTC, duration_minutes, color = direction)) +\n  geom_point() +\n  scale_x_datetime(timezone = \"US/Central\", date_minor_breaks = \"3 hours\", name = \"Date/time\") +\n  ylab(\"Estimated travel time (minutes)\") +\n  facet_wrap(~ weekend)\n\n\n\n\n\n\n\n\nThis plot shows the median travel time (middle line), the 25th and 75th percentile (interquartile range; box), 1.5 times the interquartile range (whiskers).\n\ntravel_time |&gt; \n   filter(route_id == \"John Nolen Dr (Rimrock &lt;-&gt; Hairball)\") |&gt; \n  ggplot(aes(direction, duration_minutes)) +\n  geom_boxplot(outliers = FALSE)+\n  geom_jitter(aes(color = weekend), width = .2) +\n  coord_flip()"
  }
]